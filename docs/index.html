<!DOCTYPE html>
<html>
<head>
	<title>Money</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="style.css?v=1.1"/>
	<link rel="icon" href="favicon.ico"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/hammerjs"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
	<script defer type="text/javascript" src="app.js?v=1.1"></script>
</head>
<body>
	<div id="chart-container">
		<button id="close-chart">X</button>
	</div>

	<div id="register-popup" class="popup-overlay">
		<div class="popup-content">
			<span id="close-register-popup" class="popup-close">&times;</span>
			<h2>Регистрация</h2>
			<form id="register-form" class="popup-form">
				<label for="register-username">Логин:</label>
				<input type="text" id="register-username" name="username" required>

				<label for="register-password">Пароль:</label>
				<input type="password" id="register-password" name="password" required>

				<label for="register-confirm-password">Подтвердите пароль:</label>
				<input type="password" id="register-confirm-password" name="confirm-password" required>

				<button type="submit" id="register-button" class="popup-button">
					Зарегистрироваться
					<span id="register-spinner" class="spinner"></span>
				</button>
			</form>
		</div>
	</div>

	<div id="login-popup" class="popup-overlay">
		<div class="popup-content">
			<span id="close-login-popup" class="popup-close">&times;</span>
			<h2>Авторизация</h2>
			<form id="login-form" class="popup-form">
				<label for="login-username">Логин:</label>
				<input type="text" id="login-username" name="username" required>

				<label for="login-password">Пароль:</label>
				<input type="password" id="login-password" name="password" required>

				<button type="submit" id="login-button" class="popup-button">
					Авторизоваться
					<span id="login-spinner" class="spinner"></span>
				</button>
			</form>
		</div>
	</div>

	<div class="container" id="container">
		<h1>Money</h1>

		<div class="menu-container">
			<div id="user"></div>
			<button class="menu-button" id="menu-button">☰</button>
			<div class="menu-dropdown-content" id="menu-dropdown-content">
				<button type="button" id="invest-export">Экспорт</button>
				<button type="button" id="invest-import">Импорт</button>
				<button type="button" id="open-register-popup">Регистрация</button>
				<button type="button" id="open-login-popup">Авторизация</button>
				<button type="button" id="logout">Выход</button>
			</div>
		</div>

		<form class="add-invest-form" id="add-invest-form">
			<div class="money-row">
				<input type="text" placeholder="Enter the money to invest" id="add-invest-money">
				<input type="text" placeholder="Invest ratio" id="add-invest-income-ratio" value="0.05">
			</div>
			<div class="date-row">
				<input type="date" placeholder="Investment date" id="add-invest-date">
			</div>
			<div class="button-row">
				<button type="submit" id="add-invest-submit">Add</button>
				<button type="button" id="show-chart">Chart</button>
			</div>
		</form>

		<div class="data-filter">
			<div class="filter-item">
				<input type="checkbox" id="filter-show-all"><label for="filter-show-all">Show closed</label>
			</div>
			<div class="filter-item">
				<input type="checkbox" id="filter-show-payed"><label for="filter-show-payed">Show payed</label>
			</div>
		</div>

		<div class="data-list">
			<div class="data-list-header">
				<div class="data-item">
					<div class="item-date">Created</div>
					<div class="item-date">Closed/Paydate</div>
					<div class="item-money">Money</div>
					<div class="item-actions">Actions</div>
				</div>
			</div>
			<div id="data-list"></div>
		</div>
	</div>
</body>
</html>
